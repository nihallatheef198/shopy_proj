(this.webpackJsonpfrontend=this.webpackJsonpfrontend||[]).push([[0],{67:function(t,e,c){},68:function(t,e,c){},93:function(t,e,c){"use strict";c.r(e);var a=c(0),r=c(16),n=c.n(r),s=c(15),i=c(28),j=c(54),o=c(55),l=c(20),d="PRODUCT_LIST_REQUEST",u="PRODUCT_LIST_SUCCESS",b="PRODUCT_LIST_FAIL",h="PRODUCT_DETAILS_REQUEST",O="PRODUCT_DETAILS_SUCCESS",x="PRODUCT_DETAILS_FAIL",p=c(23),f="CART_ADD_ITEM",m=localStorage.getItem("cartItems")?JSON.parse(localStorage.getItem("cartItems")):[],v=Object(i.combineReducers)({productList:function(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{products:[]},e=arguments.length>1?arguments[1]:void 0;switch(e.type){case d:return{loading:!0,products:[]};case u:return{loading:!1,products:e.payload};case b:return{loading:!1,error:e.payload};default:return t}},productDetails:function(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{product:{reviews:[]}},e=arguments.length>1?arguments[1]:void 0;switch(e.type){case h:return Object(l.a)({loading:!0},t);case O:return{loading:!1,product:e.payload};case x:return{loading:!1,error:e.payload};default:return t}},cart:function(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{cartItems:[]},e=arguments.length>1?arguments[1]:void 0;switch(e.type){case f:var c=e.payload,a=t.cartItems.find((function(t){return t.product===c.product}));return a?Object(l.a)(Object(l.a)({},t),{},{cartItems:t.cartItems.map((function(t){return t.product===a.product?c:t}))}):Object(l.a)(Object(l.a)({},t),{},{cartItems:[].concat(Object(p.a)(t.cartItems),[c])});default:return t}}}),g={cart:{cartItems:m}},y=[j.a],I=Object(i.createStore)(v,g,Object(o.composeWithDevTools)(i.applyMiddleware.apply(void 0,y))),k=(c(67),c(68),c(95)),S=c(13),_=c(6),C=c(99),T=c(101),L=c(39),w=c(1);var N=function(){return Object(w.jsx)("header",{children:Object(w.jsxs)(C.a,{bg:"dark",variant:"dark",expand:"lg",collapseOnSelect:!0,children:[Object(w.jsx)(L.LinkContainer,{to:"/",children:Object(w.jsx)(C.a.Brand,{children:"Shopy"})}),Object(w.jsx)(C.a.Toggle,{"aria-controls":"basic-navbar-nav"}),Object(w.jsx)(C.a.Collapse,{id:"basic-navbar-nav",children:Object(w.jsxs)(T.a,{className:"ml-auto",children:[Object(w.jsx)(L.LinkContainer,{to:"/cart",children:Object(w.jsx)(T.a.Link,{children:"Cart"})}),Object(w.jsx)(L.LinkContainer,{to:"/login",children:Object(w.jsx)(T.a.Link,{children:"Login"})})]})})]})})},D=c(96),E=c(58);var P=function(){return Object(w.jsx)("footer",{children:Object(w.jsx)(k.a,{children:Object(w.jsx)(D.a,{children:Object(w.jsx)(E.a,{className:"text-center py-3",children:"Copyright \xa9 Shopy"})})})})},R=c(102);var A=function(t){var e=t.value,c=t.text,a=t.color;return Object(w.jsxs)("div",{className:"rating",children:[Object(w.jsx)("span",{children:Object(w.jsx)("i",{style:{color:a},className:e>=1?"fas fa-star":e>=.5?"fas fa-star-half-alt":"far fa-star"})}),Object(w.jsx)("span",{children:Object(w.jsx)("i",{style:{color:a},className:e>=2?"fas fa-star":e>=1.5?"fas fa-star-half-alt":"far fa-star"})}),Object(w.jsx)("span",{children:Object(w.jsx)("i",{style:{color:a},className:e>=3?"fas fa-star":e>=2.5?"fas fa-star-half-alt":"far fa-star"})}),Object(w.jsx)("span",{children:Object(w.jsx)("i",{style:{color:a},className:e>=4?"fas fa-star":e>=3.5?"fas fa-star-half-alt":"far fa-star"})}),Object(w.jsx)("span",{children:Object(w.jsx)("i",{style:{color:a},className:e>=5?"fas fa-star":e>=4.5?"fas fa-star-half-alt":"far fa-star"})}),Object(w.jsx)("span",{children:c&&c})]})};var U=function(t){var e=t.product;return Object(w.jsxs)(R.a,{className:"my-3 p-2 rounded ",children:[Object(w.jsx)(S.Link,{to:"/product/".concat(e._id),children:Object(w.jsx)(R.a.Img,{src:e.image})}),Object(w.jsx)(R.a.Body,{children:Object(w.jsx)(R.a.Title,{as:"div",children:Object(w.jsx)("strong",{children:e.name})})}),Object(w.jsx)(R.a.Text,{as:"div",children:Object(w.jsx)(A,{value:e.rating,text:"".concat(e.num_reviews," reviews"),color:"#f8e825"})}),Object(w.jsxs)(R.a.Text,{as:"h3",children:["$",e.price]})]})},B=c(19),F=c.n(B),q=c(26),$=c(27),J=c.n($);var Q=function(){var t=Object(s.b)(),e=Object(s.c)((function(t){return t.productList})),c=e.error,r=e.loading,n=e.products;return Object(a.useEffect)((function(){t(function(){var t=Object(q.a)(F.a.mark((function t(e){var c,a;return F.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.prev=0,e({type:d}),t.next=4,J.a.get("/api/products");case 4:c=t.sent,a=c.data,e({type:u,payload:a}),t.next=12;break;case 9:t.prev=9,t.t0=t.catch(0),e({type:b,payload:t.t0.message});case 12:case"end":return t.stop()}}),t,null,[[0,9]])})));return function(e){return t.apply(this,arguments)}}())}),[t]),Object(w.jsxs)("div",{children:[Object(w.jsx)("h1",{children:"Latest Products"}),r?Object(w.jsx)("h2",{children:"loading..."}):c?Object(w.jsx)("h2",{children:c}):Object(w.jsx)(D.a,{children:n.map((function(t){return Object(w.jsx)(E.a,{sm:12,md:6,lg:4,xl:3,children:Object(w.jsx)(U,{product:t})},t._id)}))})]})},G=c(59),M=c(97),W=c(103),Y=c(100),z=c(98);var H=function(t){var e=t.match,c=t.history,r=Object(a.useState)(1),n=Object(G.a)(r,2),i=n[0],j=n[1],o=Object(s.b)(),l=Object(s.c)((function(t){return t.productDetails})),d=l.error,u=l.loading,b=l.product;return Object(a.useEffect)((function(){var t;o((t=e.params.id,function(){var e=Object(q.a)(F.a.mark((function e(c){var a,r;return F.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,c({type:h}),e.next=4,J.a.get("/api/products/".concat(t));case 4:a=e.sent,r=a.data,c({type:O,payload:r}),e.next=12;break;case 9:e.prev=9,e.t0=e.catch(0),c({type:x,payload:e.t0.message});case 12:case"end":return e.stop()}}),e,null,[[0,9]])})));return function(t){return e.apply(this,arguments)}}()))}),[e.params.id,o]),Object(w.jsxs)("div",{children:[Object(w.jsx)(S.Link,{to:"/",className:"btn btn-light my-3",children:"Go Back"}),u?Object(w.jsx)("h2",{children:"loading..."}):d?Object(w.jsx)("h2",{children:d}):Object(w.jsxs)(D.a,{children:[Object(w.jsx)(E.a,{md:6,children:Object(w.jsx)(M.a,{src:b.image,alt:b.name,fluid:!0})}),Object(w.jsx)(E.a,{md:3,children:Object(w.jsxs)(W.a,{variant:"flush",children:[Object(w.jsx)(W.a.Item,{children:Object(w.jsx)("h3",{children:b.name})}),Object(w.jsx)(W.a.Item,{children:Object(w.jsx)(A,{value:b.rating,text:"".concat(b.num_reviews," reviews"),color:"#f8e825"})}),Object(w.jsxs)(W.a.Item,{children:["Price: $",b.price]}),Object(w.jsx)(W.a.Item,{children:b.description})]})}),Object(w.jsx)(E.a,{md:3,children:Object(w.jsx)(R.a,{children:Object(w.jsxs)(W.a,{variant:"flush",children:[Object(w.jsx)(W.a.Item,{children:Object(w.jsxs)(D.a,{children:[Object(w.jsx)(E.a,{children:"Price:"}),Object(w.jsx)(E.a,{children:Object(w.jsxs)("strong",{children:["$",b.price]})})]})}),Object(w.jsx)(W.a.Item,{children:Object(w.jsxs)(D.a,{children:[Object(w.jsx)(E.a,{children:"Status:"}),Object(w.jsx)(E.a,{children:b.count_in_stock>0?"In Stock":"Out of Stock"})]})}),b.count_in_stock>0&&Object(w.jsx)(W.a.Item,{children:Object(w.jsxs)(D.a,{children:[Object(w.jsx)(E.a,{children:"Qty"}),Object(w.jsx)(E.a,{xs:"auto",className:"my-1",children:Object(w.jsx)(Y.a.Control,{as:"select",value:i,onChange:function(t){return j(t.target.value)},children:Object(p.a)(Array(b.count_in_stock).keys()).map((function(t){return Object(w.jsx)("option",{value:t+1,children:t+1},t+1)}))})})]})}),Object(w.jsx)(W.a.Item,{children:Object(w.jsx)(z.a,{onClick:function(){c.push("/cart/".concat(e.params.id,"?qty=").concat(i))},className:"btn-block",disabled:0===b.count_in_stock,type:"button",children:"Add to cart"})})]})})})]})]})},K=function(t,e){return function(){var c=Object(q.a)(F.a.mark((function c(a,r){var n,s;return F.a.wrap((function(c){for(;;)switch(c.prev=c.next){case 0:return c.next=2,J.a.get("/api/products/".concat(t));case 2:n=c.sent,s=n.data,a({type:f,payload:{product:s._id,name:s.name,image:s.image,price:s.price,countInStock:s.count_in_stock,qty:e}}),localStorage.setItem("cartItems",JSON.stringify(r().cart.cartItems));case 6:case"end":return c.stop()}}),c)})));return function(t,e){return c.apply(this,arguments)}}()};var V=function(t){var e=t.match,c=t.location,r=(t.history,e.params.id),n=c.search?Number(c.search.split("=")[1]):1,i=Object(s.b)(),j=Object(s.c)((function(t){return t.cart})).cartItems;return Object(a.useEffect)((function(){r&&i(K(r,n))}),[i,r,n]),Object(w.jsxs)(D.a,{children:[Object(w.jsxs)(E.a,{md:8,children:[Object(w.jsx)("h1",{children:"Shopping Cart"}),0===j.length?Object(w.jsxs)("h2",{children:["Your cart is empty ",Object(w.jsx)(S.Link,{to:"/",children:"Go Back"})]}):Object(w.jsx)(W.a,{variant:"flush",children:j.map((function(t){return Object(w.jsx)(W.a.Item,{children:Object(w.jsxs)(D.a,{children:[Object(w.jsx)(E.a,{md:2,children:Object(w.jsx)(M.a,{src:t.image,alt:t.name,fluid:!0,rounded:!0})}),Object(w.jsx)(E.a,{md:3,children:Object(w.jsx)(S.Link,{to:"/product/".concat(t.product),children:t.name})}),Object(w.jsxs)(E.a,{md:2,children:["$",t.price]}),Object(w.jsx)(E.a,{md:3,children:Object(w.jsx)(Y.a.Control,{as:"select",value:t.qty,onChange:function(e){return i(K(t.product,Number(e.target.value)))},children:Object(p.a)(Array(t.countInStock).keys()).map((function(t){return Object(w.jsx)("option",{value:t+1,children:t+1},t+1)}))})}),Object(w.jsx)(E.a,{md:1,children:Object(w.jsx)(z.a,{type:"button",variant:"light",children:Object(w.jsx)("i",{className:"fas fa-trash"})})})]})},t.product)}))})]}),Object(w.jsx)(E.a,{md:4,children:Object(w.jsxs)(R.a,{children:[Object(w.jsx)(W.a,{variant:"flush",children:Object(w.jsxs)(W.a.Item,{children:[Object(w.jsxs)("h2",{children:["Subtotal (",j.reduce((function(t,e){return t+e.qty}),0),") items"]}),"$",j.reduce((function(t,e){return t+e.qty*e.price}),0).toFixed(2)]})}),Object(w.jsx)(W.a.Item,{children:Object(w.jsx)(z.a,{type:"button",className:"btn-block",disabled:0===j.length,children:"Proceed To Checkout"})})]})})]})};var X=function(){return Object(w.jsxs)(S.BrowserRouter,{children:[Object(w.jsx)(N,{}),Object(w.jsx)("main",{children:Object(w.jsxs)(k.a,{children:[Object(w.jsx)(_.d,{path:"/",component:Q,exact:!0}),Object(w.jsx)(_.d,{path:"/product/:id",component:H}),Object(w.jsx)(_.d,{path:"/cart/:id?",component:V})]})}),Object(w.jsx)(P,{})]})},Z=function(t){t&&t instanceof Function&&c.e(3).then(c.bind(null,104)).then((function(e){var c=e.getCLS,a=e.getFID,r=e.getFCP,n=e.getLCP,s=e.getTTFB;c(t),a(t),r(t),n(t),s(t)}))};n.a.render(Object(w.jsx)(s.a,{store:I,children:Object(w.jsx)(X,{})}),document.getElementById("root")),Z()}},[[93,1,2]]]);
//# sourceMappingURL=main.6cae753f.chunk.js.map